e=(s,r)=>s.filter(x=>!r.includes(x));i=(a,b)=>a.filter(x=>b.includes(x));console.log(require("fs").readFileSync("i","ascii").trim().split("\n").map(r=>{t=r.split(" | ");p=t[0].split(" ").map(x=>x.split("")).sort((x, y)=>x.length-y.length);v=t[1].split(" ").map(x=>x.split("").sort().join(""));d=[];d[1]=p[0];d[4]=p[2];d[7]=p[1];d[8]=p[9];f=p.slice(3,6);d[3]=f.filter(x=>i(x,p[0]).length==2)[0];w=e(f,[d[3]]);d[2]=w.filter(x=>i(x,p[2]).length==2)[0];d[5]=e(w,[d[2]])[0];s=p.slice(6,9);d[9]=s.filter(x=>i(x,p[2]).length==4)[0];d[6]=s.filter(x=>i(x,p[1]).length==2)[0];d[0]=e(e(s,[d[6]]),[d[9]])[0];d=d.map(x=>x.sort().join(""));return+v.map(x=>d.indexOf(x)+"").join("");}).reduce((x,y)=>x+y));